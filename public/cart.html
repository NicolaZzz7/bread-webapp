<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Корзина</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <h1>Корзина</h1>
    <ul id="cart-list"></ul>
    <button onclick="checkout()">Оформить</button>
    <button onclick="Telegram.WebApp.close()">Закрыть</button>
    <script>
        let cart = JSON.parse(localStorage.getItem('cart') || '[]');
        const list = document.getElementById('cart-list');
        cart.forEach((item, index) => {
            const li = document.createElement('li');
            li.textContent = item;
            const delBtn = document.createElement('button');
            delBtn.textContent = 'Удалить';
            delBtn.onclick = () => { cart.splice(index, 1); localStorage.setItem('cart', JSON.stringify(cart)); location.reload(); };
            li.appendChild(delBtn);
            list.appendChild(li);
        });
        function checkout() {
            Telegram.WebApp.sendData(JSON.stringify({ action: 'checkout', cart: cart }));
        }
    </script>
</body>
</html>